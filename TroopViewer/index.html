<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bannerlord 兵种查看器</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎮 Bannerlord 兵种查看器</h1>
            <div class="controls">
                <input type="file" id="xmlFileInput" accept=".xml" multiple>
                <button id="loadBtn">📁 加载XML文件（支持多选）</button>
                <button id="clearFilesBtn" style="background: #6c757d; color: white;">🗑️ 清除已加载</button>
                <input type="file" id="vanillaItemsInput" accept=".xml" style="display: none;">
                <button id="loadVanillaItemsBtn" style="background: #17a2b8; color: white;" title="加载原版装备XML文件以启用装备ID验证">📦 加载原版装备</button>
                <button id="validateBtn" style="background: #e74c3c; color: white;">🔍 验证装备</button>
                <div id="loadedFilesInfo" style="font-size: 12px; color: #666; margin-top: 5px; display: none;">
                    <span id="loadedFilesCount">0</span> 个文件已加载 | 
                    <span id="loadedTroopsCount">0</span> 个兵种
                </div>
                <input type="text" id="searchInput" placeholder="搜索兵种名称、ID或文化...">
                <select id="cultureFilter">
                    <option value="">所有文化</option>
                    <option value="nord">Nord</option>
                    <option value="sturgia">Sturgia</option>
                    <option value="vlandia">Vlandia</option>
                    <option value="battania">Battania</option>
                    <option value="khuzait">Khuzait</option>
                    <option value="aserai">Aserai</option>
                    <option value="empire">Empire</option>
                </select>
                <select id="tierFilter">
                    <option value="">所有等级</option>
                    <option value="1">T1</option>
                    <option value="2">T2</option>
                    <option value="3">T3</option>
                    <option value="4">T4</option>
                    <option value="5">T5</option>
                </select>
            </div>
        </header>

        <div class="main-content">
            <aside class="sidebar">
                <h2>兵种列表</h2>
                <div id="fileList" class="file-list" style="display: none; margin-bottom: 10px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                    <div style="font-weight: bold; margin-bottom: 5px; font-size: 12px;">已加载的文件：</div>
                    <div id="loadedFilesList" style="font-size: 11px; color: #666;"></div>
                </div>
                <div id="troopList" class="troop-list"></div>
            </aside>

            <main class="detail-panel">
                <div id="troopDetail" class="troop-detail">
                    <p class="placeholder">请选择一个兵种查看详情</p>
                </div>
            </main>
        </div>

        <div class="troop-tree-panel" id="troopTreePanel" style="display: none;">
            <h2>兵种树</h2>
            <button id="closeTreeBtn">关闭</button>
            <div id="troopTree" class="troop-tree"></div>
        </div>

        <div class="validation-panel" id="validationPanel" style="display: none;">
            <div class="validation-header">
                <h2>🔍 装备验证结果</h2>
                <div class="validation-actions">
                    <button id="copyReportBtn">📋 复制报告</button>
                    <button id="closeValidationBtn">关闭</button>
                </div>
            </div>
            <div class="validation-content">
                <div id="validationSummary" class="validation-summary"></div>
                <div id="validationResults" class="validation-results"></div>
                <textarea id="validationReport" class="validation-report" readonly></textarea>
            </div>
        </div>
    </div>

    <script src="parser.js"></script>
    <script src="validator.js"></script>
    <script src="viewer.js"></script>
</body>
</html>






























