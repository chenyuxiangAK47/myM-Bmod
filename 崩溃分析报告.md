# 崩溃分析报告

## 崩溃信息
- **时间**: 2025-12-11 08:47:47
- **错误代码**: 0xC0000005 (访问违规 - Access Violation)
- **崩溃地址**: 0x7ff7ba7a32ad
- **运行时间**: 54秒后崩溃

## 崩溃时机
崩溃发生在游戏初始化阶段，正在创建英雄模板时：
```
[16:47:44.305] creating hero from template with id: lord_7_28
```
之后游戏崩溃。

## 可能原因

### 1. XSLT处理问题
`clear_old_upgrade_paths.xslt` 可能与其他mod的XSLT冲突，或者XPath表达式过于复杂。

### 2. 与其他mod冲突
你加载了很多mod，可能与以下mod冲突：
- AdonnaysTroopChanger
- DeReMilitari
- RBM
- T7TroopUnlocker
- VanilaPlus
- WarlordsBattlefield

这些mod都修改了兵种系统，可能与我们的mod冲突。

### 3. 兵种引用问题
可能某个兵种引用了不存在的装备或兵种。

## 修复步骤

### 步骤1: 临时禁用clear_old_upgrade_paths.xslt
我已经在SubModule.xml中注释掉了这个文件。请测试游戏是否能启动。

### 步骤2: 如果还是崩溃
逐个禁用其他XSLT文件，找出问题文件：
1. 先禁用所有 `*_replace_old_troops.xslt`
2. 再禁用所有 `*_upgrade_paths.xslt`
3. 最后禁用所有 `*_culture_change.xslt`

### 步骤3: 检查mod冲突
如果游戏能启动，但兵种有问题，可能是与其他兵种修改mod冲突。建议：
1. 禁用其他兵种修改mod（如AdonnaysTroopChanger、T7TroopUnlocker等）
2. 只保留我们的mod测试

## 当前状态
- ✅ 已禁用 `clear_old_upgrade_paths.xslt`
- ⏳ 等待测试结果






























